---
title: é›¶æˆæœ¬éƒ¨ç½²å¤šäººGemini Pro AI æœåŠ¡
date: 2025-10-27 19:00:13
tags:
  - linux
categories:
  - æŠ˜è…¾è®°å½•
---
æˆ‘çš„ AI æ¨¡å‹ä½¿ç”¨å†ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šChatGPT â†’ Gemini 1.5-pro â†’ Deepseek-R1 â†’ Gemini 2.5 proã€‚
æˆ‘ä» ChatGPT è¯ç”Ÿä»¥æ¥å¼€å§‹ä½¿ç”¨å¤§æ¨¡å‹ï¼Œæœ€åä¸€ä¸ªæœ‰å°è±¡çš„ç‰ˆæœ¬æ˜¯ ChatGPT-4oã€‚ä½†æ˜¯ç”±äº GPT ç½‘ç»œç»å¸¸è¿ä¸ä¸Šï¼Œæˆ‘è½¬è€Œå°è¯•äº† Gemini 1.5 flash/pro æ¨¡å‹ã€‚å…¶ä¸­ï¼Œflash æ¨¡å‹æå¿«çš„é€Ÿåº¦è®©æˆ‘å°è±¡æ·±åˆ»ï¼Œ3 ç§’å°±èƒ½å¾—åˆ°ç»“æœåœ¨ä¸€äº›ç®€å•åœºæ™¯ä¸‹ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚è€Œ pro æ¨¡å‹ç»™æˆ‘ç•™ä¸‹çš„å°è±¡åˆ™æ˜¯ï¼Œå®ƒçš„å›ç­”åŸºæœ¬æ²¡æœ‰åºŸè¯ï¼Œå®ƒçš„æ€ç»´é“¾ä¹Ÿéå¸¸æœ‰é€»è¾‘ã€‚
ä¹‹åéšç€ Deepseek-R1 çš„å‘å¸ƒï¼Œæˆ‘åˆè½¬å‘ä½¿ç”¨ Deepseek æ¨¡å‹ï¼Œä¸»è¦æ˜¯å› ä¸ºä¸å¿…è§£å†³ç½‘ç»œé—®é¢˜å®åœ¨æ˜¯æ–¹ä¾¿ï¼Œå†åŠ ä¸Šå®ƒçš„æ€§èƒ½å·²ç»èƒ½æ»¡è¶³æˆ‘å¤§éƒ¨åˆ†çš„éœ€æ±‚ã€‚ç›´åˆ° 1 ä¸ªå¤šæœˆå‰ï¼Œæˆ‘å¼€å§‹ä½¿ç”¨ gemini 2.5 proï¼Œå®ƒçš„æ•ˆæœè®©æˆ‘æ„Ÿåˆ°æƒŠè‰³ã€‚ä¸ Deepseek-R1 ç›¸æ¯”ï¼Œå®ƒå¸¦ç»™æˆ‘ä¸€ç§è·¨ä»£å¼çš„æå‡æ„Ÿï¼Œäºæ˜¯æˆä¸ºæˆ‘ç›®å‰ä¸»è¦ä½¿ç”¨çš„æ¨¡å‹ä¹‹ä¸€ã€‚

*p.s æ„Ÿè§‰ google AI æ¨¡å‹æœ€è¿‘é£å¤´æ¯”è¾ƒç››ï¼Œå‰æ®µæ—¶é—´å‘å¸ƒçš„ nano banana ç”»å›¾æ¨¡å‹åˆšç«å‡ºåœˆè¿‡ä¸€æ¬¡ï¼Œç°åœ¨åˆæ–°å‘å¸ƒäº† gemini 3.0 å’Œ nano banana2ï¼Œå†æ¬¡å¼•èµ·ä¸å°çƒ­åº¦ï¼ˆ20251118ï¼‰ã€‚*

ç›®å‰å®˜æ–¹é€”å¾„ä½¿ç”¨ gemini 2.5 pro æœ‰ 3 ç§æ–¹å¼ï¼š

*update 20251216: ç°åœ¨ google ai studio å…è´¹å±‚çº§æ— æ³•å†ä½¿ç”¨ 2.5 pro ä»¥ä¸Šæ¨¡å‹ï¼Œflash æ¨¡å‹ä¹Ÿåªæœ‰ 5 RPM ä½çš„å¯æ€œçš„æ¬¡æ•°ã€‚*

- [gemini å®˜ç½‘](gemini.google.com)
    - google gemini å•ç‹¬çš„ç½‘ç«™ã€‚æˆ‘ä¸€å¼€å§‹ä½¿ç”¨çš„è¿™ä¸ªç½‘ç«™ï¼Œåé¢å‘ç°å®ƒä¸ä»…æœ‰è¾ƒå°‘çš„å…è´¹ä½¿ç”¨æ¬¡æ•°é™åˆ¶ï¼Œå¹¶ä¸”è¿˜ä¸æ”¯æŒè”ç½‘ã€‚
    - ä¹‹å‰æœ‰è¿‡å­¦ç”Ÿè®¤è¯å…è´¹è¯•ç”¨ 12ä¸ªæœˆ Google One ä¼šå‘˜ï¼Œæ™®é€šç”¨æˆ·ä¹Ÿèƒ½å…è´¹è¯•ç”¨ 1 ä¸ªæœˆã€‚ä¼šå‘˜å¯ä»¥æ— é™åˆ¶ä½¿ç”¨ 2.5 Pro æ¨¡å‹ã€‚
- [Google AI studio](https://aistudio.google.com/)
    - ä¹Ÿæ˜¯ Google çš„å®˜æ–¹ç½‘ç«™ï¼Œä¸ä»…èƒ½ç¬¬ä¸€æ—¶é—´ä½¿ç”¨ google æœ€æ–°çš„æ¨¡å‹ï¼Œ2.5 pro å±…ç„¶è¿˜æ²¡æœ‰æ¬¡æ•°é™åˆ¶ã€‚
    - è¿˜å¯ä»¥ä½¿ç”¨ google çš„ nano banana æ¨¡å‹ç”»å›¾
- [Vertex AI Platform | Google Cloud](https://cloud.google.com/vertex-ai?hl=en)
    - åŸºäºè°·æ­Œ GCP(Google Cloud Platform)
    - æ˜¯è°·æ­Œçš„ä¼ä¸šçº§æ–¹æ¡ˆ
    - Vertex AI studio ä¹Ÿå¯ä»¥é€šè¿‡ç½‘é¡µä½¿ç”¨

æˆ‘æ˜¯åœ¨ Gemini ç½‘ç«™çš„ 1 ä¸ªæœˆ Google One ä¼šå‘˜åˆ°æœŸåå¼€å§‹ç ”ç©¶å¦‚ä½•ç»§ç»­ä½æˆæœ¬ä½¿ç”¨ gemini æ¨¡å‹ï¼Œæ¯•ç«Ÿ gemini ä¼šå‘˜ 20 ç¾å…ƒ/æœˆ å®åœ¨æ˜¯æœ‰ç‚¹è´µã€‚æœ€å¥½æ˜¯åŸºäº API çš„æ–¹å¼ï¼Œå¯ä»¥æŒ‰é‡ä»˜è´¹ã€‚æ¥ç€æˆ‘äº†è§£åˆ° google cloud æ–°ä¼šå‘˜æœ‰ 300 ç¾é‡‘è¯•ç”¨é‡‘ï¼Œå¯ä»¥ä½¿ç”¨ 3 ä¸ªæœˆï¼Œäºæ˜¯å°±æœ‰äº†è¿™ç¯‡åšå®¢ã€‚

æœ¬æ–‡ä»‹ç»äº†ä¸€ç§æ­å»ºå¤šäººå…±äº« Gemini AI æœåŠ¡çš„æ–¹æ¡ˆã€‚è¯¥æ–¹æ¡ˆåˆ©ç”¨ Google Cloud Platform (GCP) çš„ 300 ç¾å…ƒè¯•ç”¨é‡‘åˆ›å»º Gemini APIï¼Œå¹¶ç»“åˆ Open WebUI ä½œä¸ºå‰ç«¯ç•Œé¢ï¼Œå®ç°å¤šäººè®¿é—®ã€‚è¯¥æ–¹æ¡ˆä½¿ç”¨äº† litellm ä½œä¸º AI gatewayã€‚litellm é¡¹ç›®ç”¨äºå°†å„ç§æ¥æºçš„ AI æœåŠ¡é›†ä¸­åœ¨ä¸€èµ·ç®¡ç†ã€‚å¯ä»¥å°†ä¸€äº›ä¸æ”¯æŒ openai çš„æœåŠ¡è½¬æ¢æˆ openai APIã€‚
è™½ç„¶ Google AI studio åŸç”Ÿæ”¯æŒ openai APIï¼Œä½†æ˜¯ litellm ä¹Ÿæ˜¯æœ‰ç”¨çš„ï¼Œå¯ä»¥è§£å†³ä¸€äº›å°é—®é¢˜æ¯”å¦‚è”ç½‘æœç´¢ä¸ç”Ÿæ•ˆã€æ˜¾ç¤ºæ€ç»´é“¾å¼‚å¸¸ç­‰ã€‚

è™½ç„¶ 300 ç¾å…ƒè¯•ç”¨é‡‘åªæœ‰ 3 ä¸ªæœˆï¼Œä½†æ˜¯é€šè¿‡è¿™å¥— setupï¼Œæœªæ¥å¯ä»¥å°†è®¸å¤šå…è´¹ AI é¢åº¦ï¼ˆæ¯”å¦‚ Google AI studioï¼‰ç»™é›†ä¸­èµ·æ¥ä½¿ç”¨ï¼Œè¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚

å®ç°ä¹‹åçš„ä¸€äº›æ”¶è·æ„Ÿæƒ³

- open-webui åŠŸèƒ½å¾ˆæˆç†Ÿï¼šæœ‰å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ã€æƒé™ç®¡ç†ã€è¿˜å¯ä»¥åˆ†äº«å¯¹è¯ã€‚åŸºæœ¬å¯ä»¥æ»¡è¶³å°å›¢é˜Ÿçš„é›†ä¸­åŒ– AI ä½¿ç”¨éœ€æ±‚
- open-webui çš„ä¸€äº›å…¶å®ƒåŠŸèƒ½ä¹Ÿæœ‰ç‚¹è¶…ä¹æˆ‘çš„æƒ³è±¡
    - å¯¹äºæœ¬åœ°éƒ¨ç½² AI æ¨¡å‹ä¹Ÿå¾ˆåˆé€‚ï¼Œæ”¯æŒ ollama, comfyui ç”»å›¾ç­‰
    - æœ‰ functionï¼Œtool ç­‰é«˜çº§åŠŸèƒ½ï¼Œæ”¯æŒç¤¾åŒºæ’ä»¶ï¼Œè²Œä¼¼å¯ä»¥å®ç°å¾ˆå¤šæ‰©å±•ç©æ³•

å¤§çº²

- æ³¨å†Œ google cloud
    - ç»‘å®šå›½å¤–æ”¯ä»˜ä¿¡ç”¨å¡
    - æ³¨å†Œæ—¶çš„ç–‘é—®
    - google cloud çš„ç”¨æ³•
- google ai studio åˆ›å»º Gemini API Key
- open-webui é…ç½®
- litellm é…ç½®

<!-- more -->
## Google Cloud Free Trial

### æ³¨å†Œè¦æ±‚ï¼ˆå›½é™…æ”¯ä»˜ä¿¡ç”¨å¡ï¼‰

- ä»æ¥éƒ½ä¸æ˜¯ Google Cloudã€Google Maps Platform æˆ– Firebase çš„ä»˜è´¹å®¢æˆ·
- ä¹‹å‰æ²¡æœ‰æ³¨å†Œè¿‡å…è´¹è¯•ç”¨ç‰ˆ
- **ä¿¡ç”¨å¡**æˆ–å…¶ä»–å›½é™…æ”¯ä»˜æ–¹å¼

æˆ‘ä½¿ç”¨çš„æ˜¯æ‹›å•†é“¶è¡Œ Visa å…¨å¸ç§å›½é™…ä¿¡ç”¨å¡ï¼Œå…å¹´è´¹ã€‚

- å®˜æ–¹é“¾æ¥ï¼š[æ‹›å•†é“¶è¡Œä¿¡ç”¨å¡å…¨å®¶ç¦-ä¿¡ç”¨å¡å¿«é€ŸåŠç†_ç½‘ä¸Šåœ¨çº¿ç”³è¯·ä¿¡ç”¨å¡-æ‹›å•†é“¶è¡Œä¿¡ç”¨å¡å®˜æ–¹ç½‘ç«™](https://cc.cmbchina.com/card/?WT.mc_id=N17PCGW100AY689100ZH)
- åŠç†æµç¨‹ï¼šä¸Šé—¨å¡«ä¿¡æ¯ï¼ˆæ¬¡æ—¥ï¼‰-> ç­‰å¾…é‚®å¯„ï¼ˆ3å¤©ï¼‰-> æ¿€æ´»ï¼ˆå®Œæˆï¼‰

![æ‹›å•†é“¶è¡Œ Visa](http://s3gw.cmbimg.com/lb5022-gold-prd-1255000106/crdcardapply/intro/7602_VG.gif)

Visa, MasterCard è¯´æ˜å¯ä»¥å‚è€ƒ B ç«™è§†é¢‘ï¼š[sevenç§‘æŠ€ç”Ÿæ´»](https://www.bilibili.com/video/BV1yB8gzwErs/)
### æ³¨å†Œæ—¶çš„ç–‘é—®

è¿‡ç¨‹ç•¥ã€‚ç»éªŒæ€»ç»“

- æ”¯ä»˜è´¦å·åˆ›å»ºåæ— æ³•æ›´æ”¹å›½å®¶ï¼ˆè¯•ç”¨è´¦å·æ— æ³•æ›´æ”¹ï¼Œä¹‹åå¯ä»¥åˆ›å»ºå…¶å®ƒæ”¯ä»˜è´¦å·ï¼‰
- ç½‘ä¸Šè¯´ä¼šæ”¯ä»˜ 0.01 ç¾å…ƒç”¨äºéªŒè¯æ”¯ä»˜æ–¹å¼ï¼Œä½†å®é™…æˆ‘æ”¯ä»˜äº† 25 SGDï¼Œå…¶ä¸­ 5 SGD ä¼šè‡ªåŠ¨é€€å›ï¼Œè€Œ 20 SGD é»˜è®¤ç›¸å½“äºå……å€¼ä½™é¢ï¼Œéœ€è¦æ‰‹åŠ¨ç”³è¯·é€€å›ï¼ˆå‡ ä¸ªå°æ—¶å°±å¯ä»¥é€€å›ï¼‰ã€‚**æ€»å¾—æ¥è¯´æ³¨å†Œæ˜¯å…è´¹çš„**
    - è¯•ç”¨ç»“æŸå‰ä¸è¦ç”³è¯·é€€å›ï¼Œå¦åˆ™åé¢è¿˜ä¼šé‡æ–°è¦æ±‚éªŒè¯æ”¯ä»˜æ–¹å¼ï¼Œæˆ‘å°±è¿™æ ·å­éªŒè¯äº† 3 æ¬¡ã€‚

#### å…³äº Billing verification

å½“æ‚¨æ³¨å†Œå…è´¹è¯•ç”¨æ—¶ï¼ŒGoogle éœ€è¦æä¾›ä¿¡ç”¨å¡æˆ–å…¶ä»–ä»˜æ¬¾æ–¹å¼ã€‚åœ¨æ‚¨æäº¤ä»˜æ¬¾ä¿¡æ¯åï¼ŒGoogle ä¼šæäº¤ä¸€æ¬¡æ˜“ï¼Œä»…ç”¨äºéªŒè¯ç›®çš„ã€‚Â **åœ¨æ­¤éªŒè¯è¿‡ç¨‹ä¹‹åï¼Œé™¤éæ‚¨**[**æ¿€æ´»äº†å®Œæ•´çš„ä»˜è´¹ Cloud Billing å¸å·**](https://docs.cloud.google.com/free/docs/free-cloud-features#how-to-upgrade)Â ï¼Œå¦åˆ™ä¸ä¼šæ”¶å–ä»»ä½•è´¹ç”¨ã€‚

The transaction has the following attributes:  

- The transaction is an authorization request to validate your Cloud Billing account. It is not a permanent charge.  
    è¯¥äº¤æ˜“æ˜¯ç”¨äºéªŒè¯æ‚¨çš„ Cloud ç»“ç®—å¸å·çš„æˆæƒè¯·æ±‚ã€‚è¿™ä¸æ˜¯æ°¸ä¹…æ€§æ”¶è´¹ã€‚
- The transaction appears on your statement as being from Google.  
    è¯¥äº¤æ˜“åœ¨æ‚¨çš„å¯¹å¸å•ä¸Šæ˜¾ç¤ºä¸ºæ¥è‡ª Googleã€‚
- The transaction is between $0.00 and $1.00 USD. Your bank might convert this amount to a local currency.  
    äº¤æ˜“é‡‘é¢åœ¨ 0.00 ç¾å…ƒåˆ° 1.00 ç¾å…ƒä¹‹é—´ã€‚æ‚¨çš„é“¶è¡Œå¯èƒ½ä¼šå°†æ­¤é‡‘é¢è½¬æ¢ä¸ºå½“åœ°è´§å¸ã€‚
- If you provide bank account information, the transaction might take up to 3 days to appear on your statement.  
    å¦‚æœæ‚¨æä¾›é“¶è¡Œè´¦æˆ·ä¿¡æ¯ï¼Œåˆ™äº¤æ˜“æœ€å¤šå¯èƒ½éœ€è¦ 3 å¤©æ‰èƒ½æ˜¾ç¤ºåœ¨æ‚¨çš„å¯¹è´¦å•ä¸Šã€‚
- If you provide credit card information, this transaction might appear on your statement for up to one month before being automatically reversed.  
    å¦‚æœæ‚¨æä¾›ä¿¡ç”¨å¡ä¿¡æ¯ï¼Œæ­¤äº¤æ˜“å¯èƒ½ä¼šåœ¨æ‚¨çš„å¯¹è´¦å•ä¸Šæ˜¾ç¤ºé•¿è¾¾ä¸€ä¸ªæœˆï¼Œç„¶åè‡ªåŠ¨æ’¤é”€ã€‚

### Google Cloud çš„ç”¨æ³•

åŸºæœ¬æ¦‚å¿µ

- é¡¹ç›®ï¼šæ‰€æœ‰æœåŠ¡éƒ½æ˜¯ç»‘å®šåœ¨ä¸€ä¸ªé¡¹ç›®é‡Œé¢çš„ã€‚
- ç»“ç®—è´¦å·ï¼šç»‘å®šäº†ä¿¡ç”¨å¡ï¼Œæ¯ä¸ªé¡¹ç›®éœ€è¦ä¸€ä¸ªç»“ç®—è´¦å·
    - å…è´¹è¯•ç”¨ä¼šåˆ›å»ºä¸€ä¸ª My First Project é¡¹ç›®ï¼Œè¯¥é¡¹ç›®ç»‘å®šäº†ä¸€ä¸ªç»“ç®—è´¦å·ã€‚è¯¥ç»“ç®—è´¦å·æ˜¯ç‰¹æ®Šçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šæ‰£è´¹ã€‚é™¤éæ‰‹åŠ¨å°†å…¶å‡çº§æˆäº†å®Œæ•´çš„ä»˜è´¹è´¦å·ã€‚[**å‡çº§ä»˜è´¹å¸å·**](https://docs.cloud.google.com/free/docs/free-cloud-features#how-to-upgrade)

æœ‰ç”¨é“¾æ¥

- [æˆ‘çš„é¡¹ç›® â€“ ç»“ç®— â€“ Google Cloud æ§åˆ¶å°](https://console.cloud.google.com/billing/projects)
- [è™šæ‹Ÿæœºå®ä¾‹ â€“ Compute Engine â€“ My First Project â€“ Google Cloud æ§åˆ¶å°](https://console.cloud.google.com/compute/instances)

#### ç™½å«– VPS

æœ‰äº† google cloud è´¦å·ï¼Œè¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ªå…è´¹çš„ VPSï¼š

- e2_microï¼ˆ2 core + 1G + 200GB å…è´¹æµé‡ï¼‰

å‚è€ƒè§†é¢‘ï¼š[æ°¸ä¹…â€œç™½å«–â€è°·æ­Œäº‘æœåŠ¡å™¨ | æ›´æ–°æ•´åˆç‰ˆ | åˆ›å»ºæ°¸ä¹…å…è´¹VPSã€æ­å»ºç§‘å­¦ä¸Šç½‘ | å¦‚ä½•é¿å…åæ’¸æ‰£è´¹ | æ¯æœˆ200Gæµé‡ | è¯•ç”¨æœŸè¿‡åå¦‚ä½•é‡æ–°æ¿€æ´» - YouTube](https://www.youtube.com/watch?v=12goOU6jG9w)ï¼Œå…¶ä¸­è¿˜ä»‹ç»äº†å¦‚ä½•æŸ¥çœ‹ google çš„é¡¹ç›®ç»“ç®—è´¹ç”¨ã€‚

## åˆ›å»º Google AI Gemini API key

ç›®å‰ google å®˜æ–¹æœ‰ä¸¤ä¸ªå¹³å°æä¾› API æœåŠ¡â€”â€”Google AI studio å’Œ Google Cloud Vertex AIã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„åŒºåˆ«ï¼š

å‚è€ƒæ¥æº1ï¼š[åœ¨Google Cloudä¸Šè¿è¡ŒGemini - Google Gemini API æ–‡æ¡£](https://gemini-api.apifox.cn/doc-3462291)

| **ç‰¹æ€§**        | **Google AI Gemini API**                                         | **Google Cloud Vertex AI Gemini API**    |
| :------------ | :--------------------------------------------------------------- | :--------------------------------------- |
| æœ€æ–°çš„ Gemini æ¨¡å‹ | Gemini Pro å’Œ Gemini Ultra                                        | Gemini Pro å’Œ Gemini Ultra                |
| æ³¨å†Œ            | Google è´¦å·                                                        | Google Cloud è´¦å·ï¼ˆå«æ¡æ¬¾åè®®å’Œç»“ç®—ï¼‰                |
| **èº«ä»½éªŒè¯**      | API å¯†é’¥                                                           | Google Cloud æœåŠ¡å¸å·                        |
| ç•Œé¢å›­åœ°          | Google AI Studio                                                 | Vertex AI Studio                         |
| API å’Œ SDK     | Pythonã€Node.jsã€Android (Kotlin/Java)ã€Swiftã€Go                    | SDK æ”¯æŒ Pythonã€Node.jsã€Javaã€Go            |
| å…è´¹å±‚çº§          | æ˜¯                                                                | é¢å‘æ–°ç”¨æˆ·çš„ $300 Google Cloud èµ é‡‘              |
| é…é¢ï¼ˆæ¯åˆ†é’Ÿè¯·æ±‚æ•°ï¼‰    | [60ï¼ˆå¯ä»¥ç”³è¯·å¢åŠ ï¼‰](https://ai.google.dev/docs/increase_quota?hl=zh-cn) | åº”è¦æ±‚å¢åŠ ï¼ˆé»˜è®¤å€¼ï¼š60ï¼‰                            |
| ä¼ä¸šæ”¯æŒæœåŠ¡        | å¦                                                                | æ•°æ®éšç§æƒæ‰¿è¯º å®¢æˆ·åŠ å¯†å¯†é’¥ è™šæ‹Ÿç§æœ‰äº‘ æ•°æ®é©»ç•™ è®¿é—®æƒé™é€æ˜åº¦        |
| MLOps         | å¦                                                                | Vertex AI ä¸Šçš„å®Œæ•´ MLOpsï¼ˆä¾‹å¦‚ï¼šæ¨¡å‹è¯„ä¼°ã€æ¨¡å‹ç›‘æ§ã€æ¨¡å‹æ³¨å†Œè¡¨ï¼‰ |

Gemini æ€»ç»“

| ç‰¹æ€§                 | Google AI Studio (API Key)          | Vertex AI (GCP / ADC)                        |
| :----------------- | :---------------------------------- | :------------------------------------------- |
| **ä¸»è¦ç›®æ ‡äººç¾¤**         | å¼€å‘è€…ã€ä¸ªäººç”¨æˆ·ã€å¿«é€ŸåŸå‹å¼€å‘                     | ä¼ä¸šã€ç”Ÿäº§ç¯å¢ƒã€å¤§è§„æ¨¡åº”ç”¨                                |
| **é‰´æƒæ–¹å¼**           | **ç®€å•**ï¼šä»…éœ€ä¸€ä¸ª API Key (å­—ç¬¦ä¸²)           | **å¤æ‚**ï¼šOAuth2ã€Service Account (JSONæ–‡ä»¶) æˆ– ADC |
| **é…ç½®éš¾åº¦**           | â­ æä½ (å¤åˆ¶ç²˜è´´å³å¯)                       | â­â­â­ é«˜ (éœ€é…ç½® GCP é¡¹ç›®ã€è®¡è´¹ã€æƒé™)                     |
| **è´¹ç”¨ (Gemini)**    | **æœ‰å…è´¹å±‚çº§** (æœ‰é™æµ)ï¼Œä¹Ÿæœ‰ä»˜è´¹å±‚çº§              | **æ— å…è´¹å±‚çº§** (æŒ‰ Token è®¡è´¹ï¼Œä½†åœ¨ GCP è¯•ç”¨é‡‘å†…)           |
| **æ•°æ®éšç§ (å…³é”®)**      | **å…è´¹ç‰ˆï¼šGoogle å¯èƒ½ä¼šä½¿ç”¨æ•°æ®è®­ç»ƒ**<br>ä»˜è´¹ç‰ˆï¼šä¸è®­ç»ƒ | **æ‰¿è¯ºç»å¯¹ä¸ä½¿ç”¨å®¢æˆ·æ•°æ®è®­ç»ƒæ¨¡å‹** (ä¼ä¸šçº§åˆè§„)                  |
| **Open WebUI å…¼å®¹æ€§** | **æä½³** (é€šè¿‡ OpenAI åè®®ç›´è¿)             | **ä¸€èˆ¬** (éœ€è¦é…ç½®ç¯å¢ƒå˜é‡æˆ–æŒ‚è½½å¯†é’¥æ–‡ä»¶)                     |
| **åŒºåŸŸé™åˆ¶**           | é™åˆ¶è¾ƒå°‘ï¼Œå…¨çƒå¤§éƒ¨åˆ†åœ°åŒºå¯ç”¨ (éœ€æ¢¯å­)                | éœ€æŒ‡å®š GCP åŒºåŸŸ (å¦‚ us-central1)ï¼Œåˆè§„æ€§æ›´ä¸¥             |


ä¸»è¦çš„ä¸åŒåœ¨äº Authentication (èº«ä»½éªŒè¯) æ–¹å¼ï¼š

- **Google AI Gemini API** ä½¿ç”¨ç®€å•çš„ API key
    - è¯·æ±‚ä¸­åŒ…å«æŸ¥è¯¢å‚æ•° `?key=YOUR_API_KEY` æˆ–ä¸€ä¸ª HTTP è¯·æ±‚å¤´ `x-goog-api-key` æ¥ä¼ é€’
- **Vertex AI Gemini API** ä½¿ç”¨æ ‡å‡†çš„ Google Cloud IAM èº«ä»½éªŒè¯ (OAuth 2.0)
    - åœ¨è¯·æ±‚å¤´ä¸­æä¾›ä¸€ä¸ªä¸´æ—¶çš„ã€é€šè¿‡ gcloud æˆ–æœåŠ¡è´¦å·è·å–çš„ `Bearer Token`
      `-H "Authorization: Bearer $(gcloud auth print-access-token)"`

*p.s*ï¼šè¿™é‡Œæ²¡æœ‰åŒºåˆ† API æ¥å£ï¼ˆHTTP RESTful æ¥å£ï¼‰å’Œæä¾› API è°ƒç”¨çš„å¹³å°ï¼Œå®ƒä»¬æ˜¯ç»‘å®šåœ¨ä¸€èµ·çš„ã€‚Google AI Studio å¹³å°æä¾› Google AI Gemini APIï¼ŒGoogle Cloud Vertex AI Studio æä¾› Vertex AI Gemini APIã€‚äº‹å®ä¸Šï¼ŒGoogle Gemini API å’Œ Vertex Gemini API  çš„ RESTful æ¥å£ä¸ä¸€æ ·ï¼ˆèº«ä»½éªŒè¯ã€è¯·æ±‚ä½“ json éƒ¨åˆ†å‚æ•°ï¼‰ ï¼Œä½†æ ¸å¿ƒæ•°æ®ç»“æ„ï¼ˆPayloadï¼‰éå¸¸ç›¸ä¼¼ã€‚
- Python çš„ `google-generativeai` å’Œ `google-cloud-aiplatform` æ˜¯ä¸¤ä¸ªä¸åŒçš„åº“ï¼Œå®ƒä»¬åˆ†åˆ«å°è£…äº†è¿™ä¸¤ç§ä¸åŒçš„è°ƒç”¨æ–¹å¼ï¼Œä½†**æœ€ç»ˆéƒ½æ˜¯æŠŠ `contents` è¿™ä¸ªæ ¸å¿ƒæ•°æ®ç»“æ„å‘é€ç»™äº† Gemini æ¨¡å‹ã€‚**
- ç°åœ¨ï¼ˆStarting with the Gemini 2.0 release in late 2024ï¼‰äºŒè€…éƒ½å¯ä»¥é€šè¿‡ `google-genai` åº“è°ƒç”¨ï¼š[Migrate to the Google GenAI SDK Â |Â  Gemini API Â |Â  Google AI for Developers](https://ai.google.dev/gemini-api/docs/migrate)

æ€»ä½“è€Œè¨€ï¼ŒVertex AI Gemini API æ›´é€‚åˆä¼ä¸šç”¨æˆ·ï¼Œæä¾›äº†æ›´å¤šä¼ä¸šçº§æ”¯æŒã€‚Google AI Gemini API æ›´é€‚åˆä¸ªäººï¼Œä½¿ç”¨å•ä¸ª API key å­—ç¬¦ä¸²éªŒè¯å¾ˆæ–¹ä¾¿ã€‚

å¦å¤–ï¼ŒGoogle AI Studio å¹³å°è¿˜æä¾›äº†å…¼å®¹ OpenAI API çš„ API æœåŠ¡ï¼Œä½¿ç”¨ç›¸åŒçš„ API Keyï¼Œåªéœ€è¦æ›´æ¢ Endpoint url å³å¯ã€‚è¿™æ ·å¯ä»¥ç›´æ¥ä½¿ç”¨å¤§é‡çš„ç°æˆçš„æ”¯æŒ openai api çš„å·¥å…·ã€‚å‚è€ƒï¼š[OpenAI compatibility Â |Â  Gemini API Â |Â  Google AI for Developers](https://ai.google.dev/gemini-api/docs/openai)

å› æ­¤æœ¬æ–‡ä¸»è¦ä»‹ç»åˆ›å»º Google AI Gemini API çš„æ–¹æ³•ã€‚

### å¯¼å…¥é¡¹ç›®

Google AI Gemini API åŒæ ·éœ€è¦ç»‘å®š Google Cloud ä¸Šçš„é¡¹ç›®ã€‚è¦æƒ³ä½¿ç”¨è¯•ç”¨çš„ 300ç¾é‡‘ï¼Œä¸è¦åˆ›å»ºæ–°é¡¹ç›®ï¼Œè€Œæ˜¯å¯¼å…¥ Google Cloud ä¸Šé»˜è®¤çš„è¯•ç”¨é¡¹ç›®ã€‚

1. Go toÂ [Google AI Studio](https://aistudio.google.com/).
2. Open theÂ **Dashboard**Â from the left side panel.
3. SelectÂ **Projects**.
4. Select theÂ **Import projects**Â button in theÂ **Projects**Â page.
5. Search for and select the Google Cloud project you want to import and select theÂ **Import**Â button.

### åˆ›å»º API key

[è·å– API å¯†é’¥ - Google Gemini API æ–‡æ¡£](https://gemini-api.apifox.cn/doc-3462186)

### API ä»·æ ¼

google AI studio å’Œ vertex AI ä»·æ ¼æ˜¯ä¸€æ ·çš„

- [Gemini Developer API pricing Â |Â  Gemini API Â |Â  Google AI for Developers](https://ai.google.dev/gemini-api/docs/pricing)
- [Vertex AI Pricing Â |Â  Google Cloud](https://cloud.google.com/vertex-ai/generative-ai/pricing)


æ€»ä½“æ¥è¯´ 2.5 pro è¾“å…¥ 1.25 \$/Mï¼Œè¾“å‡º 10 \$/Mã€‚3-pro ä»·æ ¼æœ‰æ‰€ä¸Šæ¶¨ï¼Œè¾“å…¥åˆ°äº† 2 \$/Mã€‚æ ¹æ® google çš„ç»“ç®—æŠ¥å‘Šæ¥çœ‹ï¼Œåœ¨2-3äººä¸­åº¦ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œ1 å¤©å¤§æ¦‚éœ€è¦ 2-3\$ã€‚

| Model                | Type                                 | Price (/1M tokens) <= 200K input tokens | Price (/1M tokens) > 200K input tokens | Price (/1M tokens) <= 200KÂ **cached**Â input tokens | Price (/1M tokens) > 200KÂ **cached**Â input tokens | Price (/1M tokens) <= 200K input tokens with batch API | Price (/1M tokens) > 200K input tokens with batch API |
| -------------------- | ------------------------------------ | --------------------------------------- | -------------------------------------- | -------------------------------------------------- | ------------------------------------------------- | ------------------------------------------------------ | ----------------------------------------------------- |
| Gemini 2.5 Pro       |                                      |                                         |                                        |                                                    |                                                   |                                                        |                                                       |
|                      | Input (text, image, video, audio)    | $1.25                                   | $2.5                                   | $0.125                                             | $0.250                                            | $0.625                                                 | $1.25                                                 |
|                      | Text output (response and reasoning) | $10                                     | $15                                    | N/A                                                | N/A                                               | $5                                                     | $7.5                                                  |
| Gemini 3 Pro Preview |                                      |                                         |                                        |                                                    |                                                   |                                                        |                                                       |
|                      | Input (text, image, video, audio)    | $2                                      | $4                                     | $0.2                                               | $0.4                                              | $1                                                     | $2                                                    |
|                      | Text output (response and reasoning) | $12                                     | $18                                    | N/A                                                | N/A                                               | $6                                                     | $9                                                    |
|                      | Image Output**                       | $120                                    | N/A                                    | N/A                                                | N/A                                               | $60                                                    | N/A                                                   |


![image.png](https://raw.githubusercontent.com/TheRainstorm/.image-bed/main/20251125135728.png)

OpenRouter ç½‘é¡µæ›´å®¹æ˜“çœ‹åˆ°æ¨¡å‹ä»·æ ¼ä¿¡æ¯å¯¹æ¯”ã€‚

[Gemini 3 Pro Preview - API, Providers, Stats | OpenRouter](https://openrouter.ai/google/gemini-3-pro-preview)
## Open-WebUI

[open-webui/open -webui: User-friendly AI Interface (Supports Ollama, OpenAI API, ...)](https://github.com/open-webui/open-webui)

### docker éƒ¨ç½² open-webui

[Quick Start | Open WebUI](https://docs.openwebui.com/getting-started/quick-start/)

- OPENAI_API_KEY ä¹‹åè¿›å…¥ç½‘é¡µè®¾ç½®å³å¯

```yaml
version: '3.8'

services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    container_name: open-webui
    ports:
      - "3001:8080"
    environment:
      - OPENAI_API_KEY=your_secret_key
    volumes:
      - open-webui:/app/backend/data
    restart: unless-stopped
volumes:
  open-webui:
```

ä¸åŒé•œåƒç‰ˆæœ¬

- open-webui:main
    - é€‚åˆç”¨äºä»…ä½¿ç”¨ openai api key åœºæ™¯
- open-webui:main-slim
    - For environments with limited storage or bandwidth, Open WebUI offers slim image variants that exclude pre-bundled models. These images are significantly smaller but download required models (whisper, embedding models) on first use.
- open-webui:ollama
    - ç»§æ‰¿äº† ollamaï¼Œæ”¯æŒ gpu å’Œ cpu
### è®¾ç½®

æ­¤æ—¶å·²ç»å¯ä»¥åœ¨ï¼šç®¡ç†å‘˜é¢æ¿-ã€‹è®¾ç½®-ã€‹å¤–éƒ¨è¿æ¥-ã€‹OpenAI æ¥å£ ä¸­æ·»åŠ 

- URL: https://generativelanguage.googleapis.com/v1beta/openai/
- è®¤è¯æ–¹å¼ï¼ˆå¯†é’¥ï¼‰ï¼šAPI key

æ·»åŠ å®Œæˆåï¼Œè®¾ç½®-ã€‹æ¨¡å‹ä¸­å¯ä»¥çœ‹åˆ°æ‰€æœ‰æ¨¡å‹

å…¶å®ƒ

- æ”¯æŒä» excel æ‰¹é‡å¯¼å…¥ç”¨æˆ·
### å‡½æ•°

å·¥å…·æ˜¯å¤–éƒ¨çš„ï¼Œå‡½æ•°æ˜¯çº¯ python è„šæœ¬ï¼Œè¿è¡Œåœ¨ open-webui æœ¬åœ°ã€‚

å‡½æ•°æœ‰å‡ ç§

- pipeline
    - å¯ç”¨åï¼Œä¼šå‡ºç°åœ¨ model ä¸‹æ‹‰åˆ—è¡¨ä¸­
- filter
    - è‹±æ–‡ç¿»è¯‘
- action
    - ä¿®æ”¹ open-webuiï¼Œå¢åŠ æŒ‰é’®

### (update 20251123) ä½¿ç”¨ `Google Gemini` å‡½æ•°å®Œç¾æ”¯æŒ gemini

[Google Gemini â€¢ Open WebUI Community](https://openwebui.com/posts/5a64dbc0-bd44-4d3a-84be-25232d5a8e84)
https://github.com/owndev/Open-WebUI-Functions/blob/main/pipelines/google/google_gemini.py

- ç›´æ¥åœ¨ open-webui é‡Œç”¨çº¯ python å®ç°äº†ä¸€ä¸ªè½¬æ¢å™¨ï¼Œæ”¯æŒ Google AI API å’Œ Vertex AI APIã€‚
- ç›´æ¥æ”¯æŒæ˜¾ç¤ºæ€ç»´é“¾
- ç›´æ¥æ”¯æŒè°ƒç”¨ nano banana ç»˜å›¾

å¯ä»¥åŸºæœ¬æ›¿ä»£ LiteLLM äº†

ä½¿ç”¨æ–¹æ³•

- å®‰è£…å‡½æ•°åï¼Œç‚¹å‡»å‡½æ•°è®¾ç½®ï¼ˆé½¿è½®ï¼‰
- é…ç½® google ai studio çš„ API key
    - **ä¹Ÿæ”¯æŒ vertex ai API**
- Gemini æ¨¡å‹å‡ºç°åœ¨ model ä¸‹æ‹‰åˆ—è¡¨ä¸­

åŒä¸€ä¸ªä½œè€…è¿˜æœ‰ä¸¤ä¸ª Tool ç”¨äºå¼€å¯æœç´¢åŠŸèƒ½ï¼Œä½†æ˜¯æˆ‘æµ‹è¯•æ²¡æœ‰æˆåŠŸã€‚

- Grounding with Google search with [google_search_tool.py filter](https://github.com/owndev/Open-WebUI-Functions/tree/main/filters/google_search_tool.py)
- Grounding with Vertex AI Search with [vertex_ai_search_tool.py filter](https://github.com/owndev/Open-WebUI-Functions/tree/main/filters/vertex_ai_search_tool.py)
## LiteLLM

æœ¬è´¨æ˜¯ä¸€ä¸ª **â€œé€‚é…å™¨â€æˆ–â€œä»£ç†å±‚â€**

1. æ¥æ”¶ä½ çš„ OpenAI æ ¼å¼è¯·æ±‚ã€‚
2. å°†è¯·æ±‚çš„ç»“æ„**ç¿»è¯‘**æˆ Gemini API èƒ½ç†è§£çš„æ ¼å¼ï¼ˆä¾‹å¦‚ï¼Œ`"contents": [...]`ï¼‰ã€‚
3. å°†ä½ çš„ `Gemini API Key` æ·»åŠ åˆ°è¯·æ±‚å¤´ä¸­ï¼Œå‘é€ç»™ Google AI Gemini API çš„æœåŠ¡å™¨ã€‚
4. æ”¶åˆ° Gemini çš„å“åº”åï¼Œå†**ç¿»è¯‘**å› OpenAI çš„æ ¼å¼è¿”å›ç»™ä½ ã€‚

**å¯¹æ¯”ç›´æ¥ä½¿ç”¨ gemini å…¼å®¹ OpenAI çš„ API key**

google ai studio æä¾›äº†ä¸€ä¸ª å…¼å®¹ OpenAI çš„ API keyï¼Œç›´æ¥åœ¨ open-webui ä¸­ä½¿ç”¨å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š

- 2.5 pro æ— æ³•è”ç½‘æœç´¢ï¼Œå’Œæ˜¾ç¤ºæ€ç»´é“¾ã€‚ï¼ˆ2.5-flash æ¨¡å‹å€’æ˜¯ä¸¤ä¸ªéƒ½æ­£å¸¸ï¼‰
     - litellm å¯ä»¥è®¾ç½® merge_reasoning_content_in_choices å‚æ•°ï¼Œå¯ä»¥æ­£å¸¸æ˜¾ç¤ºæ€ç»´é“¾ã€‚

### docker éƒ¨ç½² litellm proxy server

litellm è¿˜æ˜¯ä¸€ä¸ª python SDKï¼Œä½†æ˜¯æˆ‘ä»¬ä¸»è¦ä½¿ç”¨å…¶ proxy æœåŠ¡å™¨çš„ç”¨æ³•ã€‚

[Getting Started Tutorial | liteLLM](https://docs.litellm.ai/docs/proxy/docker_quick_start)

- ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ litellm è¯·æ±‚ openai api å…¼å®¹çš„æœåŠ¡å™¨
- å°† litellm è‡ªèº«æš´éœ²æˆä¸€ä¸ª openai api å…¼å®¹çš„æœåŠ¡å™¨
    - è®¾ç½®çš„ master_key å°±æ˜¯ cherry-studio ç­‰è½¯ä»¶éœ€è¦çš„ OpenAI API Key

docker compose ç¤ºä¾‹

[litellm/docker-compose.yml at main Â· BerriAI/litellm](https://github.com/BerriAI/litellm/blob/main/docker-compose.yml)

- æˆ‘å°† prometheus æ³¨é‡Šæ‰äº†ï¼Œè¯¥æœåŠ¡åªæ˜¯ä¸æ–­ç›‘æµ‹æœåŠ¡æ˜¯å¦åœ¨çº¿ã€‚å¹¶æä¾›ä¸€ä¸ªæ•°æ®é¢æ¿ã€‚
```yaml
services:
  litellm:
    build:
      context: .
      args:
        target: runtime
    image: ghcr.io/berriai/litellm:main-stable
    #########################################
    ## Uncomment these lines to start proxy with a config.yaml file ##
    volumes:
      - ./litellm_config.yaml:/app/config.yaml
      - ./vertex_ai_service_account.json:/app/vertex_ai_service_account.json
    command:
      - "--config=/app/config.yaml"
    ##############################################
    ports:
      - "3002:4000" # Map the container port to the host, change the host port if necessary
    environment:
      DATABASE_URL: "postgresql://llmproxy:dbpassword9090@db:5432/litellm"
      STORE_MODEL_IN_DB: "True" # allows adding models to proxy via UI
      GOOGLE_APPLICATION_CREDENTIALS: /app/vertex_ai_service_account.json
    env_file:
      - .env # Load local .env file
    depends_on:
      - db  # Indicates that this service depends on the 'db' service, ensuring 'db' starts first
    healthcheck:  # Defines the health check configuration for the container
      test: [ "CMD-SHELL", "wget --no-verbose --tries=1 http://localhost:4000/health/liveliness || exit 1" ]  # Command to execute for health check
      interval: 30s  # Perform health check every 30 seconds
      timeout: 10s   # Health check command times out after 10 seconds
      retries: 3     # Retry up to 3 times if health check fails
      start_period: 40s  # Wait 40 seconds after container start before beginning health checks

  db:
    image: postgres:16
    restart: always
    container_name: litellm_db
    environment:
      POSTGRES_DB: litellm
      POSTGRES_USER: llmproxy
      POSTGRES_PASSWORD: dbpassword9090
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data # Persists Postgres data across container restarts
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -d litellm -U llmproxy"]
      interval: 1s
      timeout: 5s
      retries: 10

#  prometheus:
#    image: prom/prometheus
#    volumes:
#      - prometheus_data:/prometheus
#      - ./prometheus.yml:/etc/prometheus/prometheus.yml
#    ports:
#      - "9095:9090"
#    command:
#      - "--config.file=/etc/prometheus/prometheus.yml"
#      - "--storage.tsdb.path=/prometheus"
#      - "--storage.tsdb.retention.time=15d"
#    restart: always
volumes:
  prometheus_data:
    driver: local
  postgres_data:
    name: litellm_postgres_data # Named volume for Postgres data persistence
```
### åŸºæœ¬é…ç½®

#### ä¿®æ”¹ API key

ä¿®æ”¹ API keyï¼š[Rotating Master Key | liteLLM](https://docs.litellm.ai/docs/proxy/master_key_rotations)

### é€šè¿‡ google ai studio api key ä½¿ç”¨ gemini

#### gemini æ˜¾ç¤º thinking

[[Bug]ï¼šOpenAI gpt-5 åœ¨ä½¿ç”¨ OpenWebUI æ—¶ä¸æ˜¾ç¤ºæ€ç»´è¾“å‡º Â·é—®é¢˜ #13419 Â·BerriAI/åˆ©ç‰¹å°”å§† --- [Bug]: OpenAI gpt-5 not showing thinking outputs when using OpenWebUI Â· Issue #13419 Â· BerriAI/litellm](https://github.com/BerriAI/litellm/issues/13419)

gemini/google ai studio å’Œ vertex éœ€è¦å¯ç”¨é€‰é¡¹
```
thinking: {"type": "enabled", "budget_tokens": 1024}  # budget_tokens: 1024-32768
merge_reasoning_content_in_choices: true
```
#### å¯ç”¨è”ç½‘æœç´¢

[Web Search | liteLLM](https://docs.litellm.ai/docs/completion/web_search)

- litellm é…ç½®ä¸­å¼€å¯äº† `web_search_options: search_context_size: "medium"` å¯ä»¥ä½¿ç”¨æœç´¢

**å¯ç”¨æœç´¢ä¹Ÿæ˜¯è¦æ”¶è´¹çš„**ï¼Œæ”¶è´¹æ ‡å‡†ï¼š[Vertex AI Pricing Â |Â  Google Cloud](https://cloud.google.com/vertex-ai/generative-ai/pricing)

- 2.0/2.5 Flash: 1500/å¤© å…è´¹
- 2.5proï¼š10000 æ¬¡/å¤© å…è´¹
- è¶…å‡ºï¼š35$/1000æ¡

ä½ ä¸èƒ½ä¾èµ– Open-WebUI çš„â€œç½‘ç»œæœç´¢â€æŒ‰é’®ï¼Œå› ä¸ºå®ƒå‘é€çš„å‚æ•°å¯èƒ½ä¸æ˜¯ Vertex AI æ‰€æœŸæœ›çš„Â `google_search_retrieval`Â å·¥å…·ã€‚æœ€ç¨³å®šã€æœ€å¯é çš„æ–¹æ³•æ˜¯åœ¨ LiteLLM çš„é…ç½®ä¸­åˆ›å»ºä¸€ä¸ªä¸“é—¨ç”¨äºæœç´¢çš„â€œè™šæ‹Ÿæ¨¡å‹â€ã€‚

### é€šè¿‡ vertex ai ä½¿ç”¨ gemini

åœ¨ google ai studio æœ‰å…è´¹çš„ gemini2.5/3 é¢åº¦æ—¶ï¼Œç»å¸¸é‡åˆ° server overload çš„æŠ¥é”™ï¼Œéœ€è¦è¿‡ä¸€ä¼šå„¿æ‰èƒ½ä½¿ç”¨ã€‚ä½†æˆ‘æ˜æ˜æ˜¯ä»˜è´¹ç”¨æˆ·ï¼Œä½¿ç”¨ä¹Ÿæ²¡æœ‰è¾¾åˆ°ä½¿ç”¨é€Ÿç‡é™åˆ¶ã€‚å¯¹æ¯”æ„Ÿè§‰ä½¿ç”¨ vertex ai æ›´ç¨³å®šäº›ã€‚

[VertexAI [Gemini] | liteLLM](https://docs.litellm.ai/docs/providers/vertex)

å¦‚ä½•è·å¾— service_account.json éœ€è¦å‚è€ƒ google cloud æ–‡æ¡£æˆ–è€…ç›´æ¥é—®LLMã€‚

`litellm_config.yaml`
```yaml
model_list:
  - model_name: gemini-2.5-pro
    litellm_params:
      model: vertex_ai/gemini-2.5-pro
      vertex_project: "project-id"
      vertex_location: "us-central1"
      vertex_credentials: "/path/to/service_account.json" # [OPTIONAL] Do this OR `!gcloud auth application-default login` - run this to add vertex credentials to your env
```

`docker-compose.yaml` æ–‡ä»¶ä¸­ï¼Œæ·»åŠ äº†æ–‡ä»¶æ˜ å°„å’Œç¯å¢ƒå˜é‡ã€‚
```yaml
volumes:
      - ./litellm_config.yaml:/app/config.yaml
      - ./vertex_ai_service_account.json:/app/vertex_ai_service_account.json
environment:
      GOOGLE_APPLICATION_CREDENTIALS: /app/vertex_ai_service_account.json
```

#### ä½¿ç”¨ gemini-3-pro 404

```
å•Šå“¦ï¼å›å¤æœ‰é—®é¢˜ litellm.ServiceUnavailableError: litellm.MidStreamFallbackError: litellm.NotFoundError: Vertex_ai_betaException - b'{\n "error": {\n "code": 404,\n "message": "Publisher Model `projects/axiomatic-spark-475316-e7/locations/us-central1/publishers/google/models/gemini-3-pro-preview` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions",\n "status": "NOT_FOUND"\n }\n}\n'. Received Model Group=vertex_ai/gemini-3-pro-preview Available Model Group Fallbacks=None
```

éœ€è¦å°† vertex_location è®¾ç½®ä¸º global
https://github.com/BerriAI/litellm/issues/16780#issuecomment-3568703439
```
vertex_location: "global"
```

### ä½¿ç”¨å…¶å®ƒå…¼å®¹ OpenAI API çš„æ¨¡å‹

å…¶å®æœ€ç®€å•ã€‚å…¼å®¹ openai çš„ API keyï¼Œç›´æ¥è®¾ç½® api_base å’Œ api_key å³å¯ã€‚
 
```yaml
model_list:
 - model_name: siliconflow/deepseek-ai/DeepSeek-V3.2
    litellm_params:
      model: openai/deepseek-ai/DeepSeek-V3.2
      api_base: https://api.siliconflow.cn/v1
      api_key: os.environ/SILICONFLOW_API_KEY
```

éœ€è¦åœ¨model å‰é¢æ·»åŠ  `openai`ï¼Œå¦åˆ™ litellm ä¸çŸ¥é“ provider æ˜¯è°ã€‚
```
08:29:06 - LiteLLM Router:ERROR: router.py:5157 - Error creating deployment: litellm.BadRequestError: LLM Provider NOT provided. Pass in the LLM provider you are trying to call. You passed model=deepseek-ai/DeepSeek-V3.2
 Pass model as E.g. For 'Huggingface' inference endpoints pass in `completion(model='huggingface/starcoder',..)` Learn more: https://docs.litellm.ai/docs/providers, ignoring and continuing with other deployments.
Traceback (most recent call last)
```


## å…¶å®ƒ TODO

OpenAPI/New API è²Œä¼¼åŠŸèƒ½æ¯” LiteLLM æ›´å¤š

- [songquanpeng/one-api: LLM API ç®¡ç† & åˆ†å‘ç³»ç»Ÿï¼Œæ”¯æŒ OpenAIã€Azureã€Anthropic Claudeã€Google Geminiã€DeepSeekã€å­—èŠ‚è±†åŒ…ã€ChatGLMã€æ–‡å¿ƒä¸€è¨€ã€è®¯é£æ˜Ÿç«ã€é€šä¹‰åƒé—®ã€360 æ™ºè„‘ã€è…¾è®¯æ··å…ƒç­‰ä¸»æµæ¨¡å‹ï¼Œç»Ÿä¸€ API é€‚é…ï¼Œå¯ç”¨äº key ç®¡ç†ä¸äºŒæ¬¡åˆ†å‘ã€‚å•å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæä¾› Docker é•œåƒï¼Œä¸€é”®éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨ã€‚LLM API management & key redistribution system, unifying multiple providers under a single API. Single binary, Docker-ready, with an English UI.](https://github.com/songquanpeng/one-api)
- [QuantumNous/new-api: AIæ¨¡å‹èšåˆç®¡ç†ä¸­è½¬åˆ†å‘ç³»ç»Ÿï¼Œä¸€ä¸ªåº”ç”¨ç®¡ç†æ‚¨çš„æ‰€æœ‰AIæ¨¡å‹ï¼Œæ”¯æŒå°†å¤šç§å¤§æ¨¡å‹è½¬ä¸ºç»Ÿä¸€æ ¼å¼è°ƒç”¨ï¼Œæ”¯æŒOpenAIã€Claudeã€Geminiç­‰æ ¼å¼ï¼Œå¯ä¾›ä¸ªäººæˆ–è€…ä¼ä¸šå†…éƒ¨ç®¡ç†ä¸åˆ†å‘æ¸ é“ä½¿ç”¨ã€‚ğŸ¥ The next-generation LLM gateway and AI asset management system supports multiple languages.](https://github.com/QuantumNous/new-api)
- [feat: support claude and gemini in vertex ai by vaayne Â· Pull Request #1621 Â· songquanpeng/one-api](https://github.com/songquanpeng/one-api/pull/1621)

